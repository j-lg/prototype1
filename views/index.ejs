<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/reset.css" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="/javascripts/map.js"></script>
    <script src="/javascripts/filters.js"></script>
  </head>
  <body>
    <section id="header">
      <nav id="header-nav">
        <ul id="header-container">
          <li class="header-item">
            <img src="/images/google-maps-logo.png" onclick="toggleMap()" />
          </li>
          <li class="header-item"><img src="/images/settings-icon.png" /></li>
        </ul>
      </nav>
    </section>
    <section id="main">
      <div id="container">
        <div id="filters">
          <button class="main-filter" id="btn1" onclick="toggleButton(this.id)">
            Music
          </button>
          <button class="main-filter" id="btn2" onclick="toggleButton(this.id)">
            Comedy
          </button>
          <button class="main-filter" id="btn3" onclick="toggleButton(this.id)">
            Art
          </button>
          <button class="main-filter" id="btn4" onclick="toggleButton(this.id)">
            Shows
          </button>
        </div>
        <table id="main-table">
          <tr>
            <th></th>
            <th>Artist</th>
            <th>Event</th>
            <th>Address</th>
          </tr>
          <!-- this should be an array passed as context from the express view... -->
          <% for(const event of events) {%>
          <tr>
            <td class="owner-img-container">
              <img class="owner-img" src="<%= event.owner.image %>" />
            </td>
            <td><%= event.owner.name + ' ' + event.owner.surname %></td>
            <td><%= event.type %></td>
            <td><%= event.address %></td>
          </tr>
          <% } %>
        </table>
      </div>
    </section>
    <section>
      <div id="map-container"><div id="map"></div></div>
    </section>
  </body>
</html>
